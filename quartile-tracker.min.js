/*!
 * Quartile Tracker, http://tpkn.me/
 */
function videoQuartileTracker(t,o){function e(){l=t.duration||0,u=t.currentTime||0;for(var e=0,n=o.length;e<n;e++)c=o[e],a=c.time,("string"==typeof a&&a.indexOf("%")===a.length-1?u/l*100:u)>=parseInt(a)&&c.active&&(void 0!==(d=c.pixel)&&i(d),"function"==typeof(f=c.callback)&&f(),c.active=!1,v&&console.log(a,"=>",d))}function n(){s&&r()}function r(){for(var e=0,n=o.length;e<n;e++)o[e].active=!0;v&&console.log("- reset -")}function i(e){var n=new Image;n.src=e,n.onload=n.onerror=function(){n=null}}if(!(t instanceof Element))throw new TypeError("Expected a DOM element");if("object"!=typeof o)throw new TypeError("Expected an Object");var c,a,d,f,l=0,u=0,s=!0,v=!1;return r(),t.addEventListener("timeupdate",e),t.addEventListener("ended",n),{reset:r,destroy:function(){t.removeEventListener("timeupdate",e),t.removeEventListener("ended",n),v&&console.log("- destroy -")},debug:function(){v=!v,console.log("debug:",v?"on":"off")}}}